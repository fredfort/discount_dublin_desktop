<div>
	<div class="text-right">
			<button ng-hide='toAdd' class='btn btn-md btn-primary' ng-click="moreProducts()">Add one product</button>
	</div>
	<br />
	<div ng-repeat="product in user.products track by $index">
		<div class="panel" id="{{product.state}}" ng-class="{'panel-primary':!product.toRemove, 'panel-danger':product.toRemove}">
		  	<div class="panel-heading">
		  		<h3 class="panel-title">{{product.name}}</h3>
		  	</div>
				<div class="panel-body">
					<div class="text-right" ng-show='!product.toRemove'> 
						<button class='btn btn-danger' ng-click='product.toRemove = true'><span class="glyphicon glyphicon-remove"></span></button>
					</div>
					<div class='row' ng-show='product.toRemove'>
						<div class="col-md-6 col-md-offset-3 text-center" style='margin-bottom:15px'> 
							<b>Do you really want to remove the product '{{product.name}}'? </b>
						</div>
						<div class='col-md-3 text-center'>
							<button class='btn btn-success' ng-click='removeProduct(product)'>Yes <span class="glyphicon glyphicon-ok"></span></button>
							<button class='btn btn-danger' ng-click='product.toRemove = false'>No <span class="glyphicon glyphicon-remove"></span></button>
						</div>
					</div>
					<form class="form-horizontal" ng-show='!product.toRemove'>
						<div class="form-group">
							<label for='productName' class='col-sm-2 control-label'>Name</label>
							<div class="col-sm-10">
								<input id='productName' class='form-control' placeholder='Name' ng-model='product.name' />
							</div>
						</div>
						<div class="form-group">
							<label for='productDescription' class='col-sm-2 control-label'>Description</label>
							<div class="col-sm-10">
								<input class='form-control' id='productDescription' placeholder='Description' ng-model='product.description' />
							</div>
						</div>
						<div class="form-group">
							<label for='productQuantity' class='col-sm-2 control-label'>Quantity</label>
							<div class="col-sm-10">
								<input class='form-control'  id='productQuantity' ng-model='product.quantity' />
							</div>
						</div>
						<div class="form-group">
							<label for='productActive' class='col-xs-2 control-label'>Active</label>
							<div class="col-sm-1 col-xs-2 text-left">
								<input type="checkbox" id='productActive' class="input-sm form-control" ng-checked="{{product.active}}" />
							</div>
						</div>
						<div class="form-group">
							<label for='productCategory' class='col-sm-2 control-label'>Category</label>
							<div class="col-sm-4">
								<select ng-model="product.category" class="form-control">
									<option ng-selected="product.category === category._id" ng-repeat="category in categories" value="{{category._id}}">
										{{category.typeP}}
									</option>
								</select>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div ng-show='user.products.length === 0' class="well">
			You have not added any product yet
		</div>
</div>
<div class="row text-right">
			<button class='btn btn-md btn-primary' ng-click="saveProducts()">Save</button>
</div>
